(()=>{"use strict";class t{check=(t={})=>{};scan=(t={})=>{let e={};if(void 0!==t.dom.scan.items&&Object.keys(t.dom.scan.items).length)for(let n in t.dom.scan.items){let i=t.dom.scan.items[n].pattern??`[data-${n})]`;e[n]=document.querySelectorAll(i)}return e};create=(t={})=>{};delete=(t={})=>{};clear=(t={})=>{};replace=(t={})=>{}}class e{}class n{add=(t={})=>{};remove=(t={})=>{};replace=(t={})=>{};clear=(t={})=>{}}class i{show=(t={})=>{};show=(t={})=>{};replace=(t={})=>{}}class s{getName=()=>{let t=null,e=document.getElementsByTagName("html");if(e.length)for(let n of e)void 0!==n.dataset.contextRouteName&&n.dataset.contextRouteName&&(t=n.dataset.contextRouteName);return t};getAction=(t="",e={})=>{let n=class{constructor(){console.info("No action associate to this route")}};return t&&Object.keys(e).length&&void 0!==e[t]&&(n=e[t]),n}}class o{}class a{constructor(){this.setHeight()}setHeight=()=>{let t=document.getElementById("header"),e=document.getElementById("iframe-main");if(null===t||null===e)return;let n=()=>{e.style.height=window.innerHeight-t.offsetHeight+"px"};n(),window.addEventListener("resize",n)}}class l{constructor(t={}){this.setContent(t),this.setHeight()}setContent=t=>{if(void 0===t.webContentLink)return void console.error("webContentLink is missing");let e=document.createElement("iframe");e.setAttribute("id","iframe-main"),e.setAttribute("src",t.webContentLink),e.setAttribute("style","width: 100%; height: 475px;border: medium none;");let n=document.getElementById("main");n?(n.innerHTML="",n.appendChild(e)):console.error("Main div is missing")};setHeight=()=>{let t=document.getElementById("header"),e=document.getElementById("iframe-main");if(null===t||null===e)return;let n=()=>{e.style.height=window.innerHeight-t.offsetHeight+"px"};n(),window.addEventListener("resize",n)}}class c{dom={navbar:{id:"sidenav",el:null},navbarToggler:{query:".navbar-toggler i",el:null}};constructor(){this.sidenavScan(),console.log(this.dom),this.sideNavTiggerAction()}scan=()=>{for(let t in this.dom)void 0!==this.dom[t].id&&this.dom[t].id?this.dom[t].el=[document.getElementById(this.dom[t].id)]:void 0!==this.dom[t].query&&this.dom[t].query&&(this.dom[t].el=[document.querySelectorAll(this.dom[t].query)])};sideNavTiggerAction=()=>{let t=document.querySelector("aside.sidenav-main .navbar-toggler");if(console.log(t),null===t)return;t.addEventListener("click",(t=>{let e=document.querySelector("aside.sidenav-main");if(null===e)return;let n=e.classList.contains("nav-lock")?"collapse":"expanded";fetch("/api/sidenav/"+n+"/",{method:"POST"}).then((t=>t.json())).then((t=>console.log(t))).catch((t=>console.error(t)))}))}}let r={Home:class{constructor(t={}){this.app=t,document.addEventListener("DOMContentLoaded",this.pageInit),console.log("hello Home")}pageInit=()=>{this.structure=this.app.Dom.scan(this.app.config),this.componentInit()};componentInit=()=>{if(Object.keys(this.app.input.componentList).length&&Object.keys(this.structure.layouts).length)for(let t of this.structure.layouts){let e=t.dataset.layout;if(!e)continue;let n=e.split("/").pop();void 0!==this.app.input.componentList[n]&&new this.app.input.componentList[n](t)}}}},d={sidenav:c};window.App=new class extends class{about="This app is build with LuckyJs";constructor(a={}){this.Dom=new t,this.Http=new e,this.Event=new n,this.Popup=new i,this.Context=new s,this.Template=new o,this.inputSet(a),this.contextSet(),this.actionSet()}inputSet=(t={})=>{let e={actionRoute:{},componentList:[]};if(Object.keys(t).length)for(let n in t)e[n]=t[n];this.input=e};contextSet=()=>{let t={name:this.Context.getName()};this.context=t};actionSet=()=>{let t=this.Context.getAction(this.context.name,this.input.actionRoute);this.action=t}}{config={dom:{scan:{items:{layouts:{pattern:"[data-layout]"}}}}};constructor(t={}){super(t),this.Pdf=(t={})=>{new a(t)},this.Google=(t={})=>{new l(t)},this.Sidenav=(t={})=>{new c(t)},new this.action(this)}}({actionRoute:r,componentList:d})})();